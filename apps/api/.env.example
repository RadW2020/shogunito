# ==============================================
# SHOGUN API - Environment Variables Example
# ==============================================
# Copy this file to .env and fill in your values

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=dev
DATABASE_PASSWORD=dev
DATABASE_NAME=shogun

# ==============================================
# APPLICATION CONFIGURATION
# ==============================================
# Port for the API server
PORT=3000

# Node environment (development, production)
# IMPORTANT: Set to 'production' for production deployments
NODE_ENV=development

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
# Enable/disable rate limiting (throttler)
# Set to 'true' to enable rate limiting protection against brute force and DoS attacks
# Default: false
THROTTLER_ENABLED=false

# Enable/disable audit logging interceptor
# Set to 'false' to disable automatic audit logging of all mutations
# Default: true (enabled)
AUDIT_LOGGER_ENABLED=true

# ==============================================
# CORS CONFIGURATION
# ==============================================
# Allowed origins for CORS (comma-separated list)
# Example: http://localhost:5173,http://localhost:3000
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:3000

# ==============================================
# JWT/AUTH CONFIGURATION
# ==============================================
# JWT secret key for signing access tokens
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# JWT access token expiration (recommended: 15m for security)
JWT_EXPIRES_IN=15m

# JWT refresh secret key (should be different from JWT_SECRET)
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production

# JWT refresh token expiration (recommended: 7d)
JWT_REFRESH_EXPIRES_IN=7d

# ==============================================
# MINIO CONFIGURATION
# ==============================================
# MinIO server endpoint (internal, for API to connect)
MINIO_ENDPOINT=localhost
# MinIO public endpoint (used for presigned URLs and MinIO server configuration)
# This should be the public URL accessible via reverse proxy (Coolify Proxy, Nginx, etc.)
MINIO_PUBLIC_ENDPOINT=https://shogunminio.yourdomain.com

# MinIO server port
MINIO_PORT=9000

# Use SSL for MinIO connection (true/false)
MINIO_USE_SSL=false

# MinIO access key (default: minio)
MINIO_ACCESS_KEY=minio

# MinIO secret key (default: minio123)
MINIO_SECRET_KEY=minio123

# ==============================================
# FILE STORAGE CONFIGURATION (if needed)
# ==============================================
# UPLOAD_DIR=./uploads
# MAX_FILE_SIZE=10485760
# ALLOWED_FILE_TYPES=.jpg,.jpeg,.png,.exr,.mov,.mp4

# ==============================================
# EMAIL CONFIGURATION
# ==============================================
# Email sender configuration
# Note: Email sending is currently disabled. Configure your email provider when implementing email functionality.
EMAIL_FROM_EMAIL=noreply@yourdomain.com
EMAIL_FROM_NAME=Shogun

# Password reset configuration
PASSWORD_RESET_URL=http://localhost:5173/reset-password
PASSWORD_RESET_TOKEN_EXPIRY=3600000

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
# LOG_LEVEL=info
# LOG_FILE=./logs/api.log

# ==============================================
# AXIOM INTEGRATION (EXTERNAL LOG STORAGE)
# ==============================================
# Enable/disable Axiom integration for log aggregation and analytics
# Axiom provides long-term log storage, powerful querying, and visualization
AXIOM_ENABLED=false

# Axiom API Token (get from https://app.axiom.co -> Settings -> API Tokens)
# Required if AXIOM_ENABLED=true
AXIOM_API_TOKEN=your-axiom-api-token-here

# Axiom Organization ID (get from Axiom dashboard)
# Required if AXIOM_ENABLED=true
AXIOM_ORG_ID=your-axiom-org-id-here

# Axiom Dataset name where logs will be stored
# This is the "database" in Axiom that will store your audit logs
AXIOM_DATASET=shogun-audit-logs

# ==============================================
# LOG RETENTION POLICY
# ==============================================
# Enable/disable automatic log retention and cleanup
# When enabled, old logs are automatically archived to Axiom and deleted from database
LOG_RETENTION_ENABLED=true

# Retention period for authentication logs (in days)
# Authentication logs include: LOGIN, LOGOUT, REGISTER, PASSWORD_RESET
# Recommended: 90 days for security compliance
LOG_RETENTION_AUTH_DAYS=90

# Retention period for error logs (in days)
# Error logs include any logs with errorMessage field populated
# Recommended: 180 days for debugging and monitoring
LOG_RETENTION_ERROR_DAYS=180

# Retention period for CRUD operation logs (in days)
# CRUD logs include: CREATE, UPDATE, DELETE operations
# Recommended: 30 days for general audit trail
LOG_RETENTION_CRUD_DAYS=30

# Default retention period for all other logs (in days)
# Applies to logs that don't match AUTH, ERROR, or CRUD categories
# Recommended: 60 days
LOG_RETENTION_DEFAULT_DAYS=60

# Batch size for log deletion operations
# Larger batches are faster but use more memory
# Recommended: 1000
LOG_RETENTION_BATCH_SIZE=1000

# Archive logs to Axiom before deleting from database
# When enabled, logs are sent to Axiom for permanent storage before deletion
# Recommended: true (requires AXIOM_ENABLED=true)
LOG_RETENTION_ARCHIVE_TO_AXIOM=true